<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>–î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–∑</title>
    <link rel="stylesheet" href="./style.css">

  <style id="injected-design">
body { background: linear-gradient(180deg, #0b0f14 0%, #1b2630 100%); }
:root { --bg: #0f1720; --accent: #2b8cff; --muted: #c9d6df; --card-bg: linear-gradient(90deg, var(--accent), #1fa2ff); --card-shadow: 0 10px 25px rgba(2, 6, 23, 0.25); --topbar: #0f1720; }
</style>
</head>
    
  <body>
  <!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–∑</title>
  </head>
<body>
  <header class="navbar">
    <div class="container nav-inner">
      <div class="logo">
        <a href="../index.html">
         <img src="https://i.ibb.co.com/Wv8Gx7DW/2.png" alt="logo">
        </a>
    </div>
  </header>

  <main class="container">
    <!-- Left: Form -->
    <form id="cargoForm" class="card" novalidate>
      <div class="body">

        <!-- –ì—Ä—É–∑ -->
        <section class="section">
          <h2>–ì—Ä—É–∑</h2>
          <div class="grid cols-3">
            <div>
              <label for="cargoType">–¢–∏–ø –≥—Ä—É–∑–∞</label>
              <select id="cargoType" name="cargoType" required>
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ</option>
                <option>–ì—Ä—É–∑ –≤ —è—â–∏–∫–µ</option>
                <option>–ì–∞–±–∞—Ä–∏—Ç–Ω—ã–π –≥—Ä—É–∑</option>
                <option>–°—ã–ø—É—á–∏–π –≥—Ä—É–∑</option>
                <option>–ù–∞–ª–∏–≤–Ω–æ–π –≥—Ä—É–∑</option>
                <option>–û–ø–∞—Å–Ω—ã–π –≥—Ä—É–∑ (ADR)</option>
              </select>
              <div class="error" data-error="cargoType"></div>
            </div>
            <div>
              <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
              <select id="category" name="category" required>
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ</option>
                <option>–ü—Ä–æ–¥—É–∫—Ç—ã</option>
                <option>–°—Ç—Ä–æ–π–º–∞—Ç–µ—Ä–∏–∞–ª—ã</option>
                <option>–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</option>
                <option>–ú–µ–±–µ–ª—å</option>
                <option>–¢–µ–∫—Å—Ç–∏–ª—å</option>
              </select>
              <div class="error" data-error="category"></div>
            </div>
            <div>
              <label for="title">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
              <input type="text" id="title" name="title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –Ø—â–∏–∫–∏ —Å —è–±–ª–æ–∫–∞–º–∏" required />
              <div class="error" data-error="title"></div>
            </div>
          </div>

          <div class="grid cols-3">
            <div>
              <label for="readyDate">–î–∞—Ç–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏</label>
              <input type="date" id="readyDate" name="readyDate" required />
              <div class="error" data-error="readyDate"></div>
            </div>
            <div>
              <label for="regularity">–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å</label>
              <select id="regularity" name="regularity">
                <option>–†–∞–∑–æ–≤–∞—è</option>
                <option>–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ</option>
                <option>–ï–∂–µ–º–µ—Å—è—á–Ω–æ</option>
              </select>
            </div>
            <div>
              <label for="places">–ö–æ–ª-–≤–æ –º–µ—Å—Ç</label>
              <input type="number" id="places" name="places" min="1" step="1" placeholder="1" required />
              <div class="error" data-error="places"></div>
            </div>
          </div>

          <div class="grid cols-3">
            <div>
              <label for="weight">–í–µ—Å, –∫–≥</label>
              <input type="number" id="weight" name="weight" min="0" step="0.1" placeholder="1000" required />
              <div class="error" data-error="weight"></div>
            </div>
            <div>
              <label for="volume">–û–±—ä–µ–º, –º¬≥</label>
              <input type="number" id="volume" name="volume" min="0" step="0.01" placeholder="2.5" />
            </div>
            <div style="display:flex;align-items:flex-end;">
              <label class="check">
                <input type="checkbox" id="packed" name="packed" />
                –ì—Ä—É–∑ —É–ø–∞–∫–æ–≤–∞–Ω
              </label>
            </div>
          </div>

          <div class="grid cols-2">
            <div>
              <label for="from">–û—Ç–∫—É–¥–∞</label>
              <input type="text" id="from" name="from" placeholder="–ì–æ—Ä–æ–¥, —Å—Ç—Ä–∞–Ω–∞" required />
              <div class="error" data-error="from"></div>
            </div>
            <div>
              <label for="to">–ö—É–¥–∞</label>
              <input type="text" id="to" name="to" placeholder="–ì–æ—Ä–æ–¥, —Å—Ç—Ä–∞–Ω–∞" required />
              <div class="error" data-error="to"></div>
            </div>
          </div>
          <div class="btn-row">
            <button type="button" class="btn" id="addPoint">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ç–æ—á–∫–∏</button>
            <span class="muted" id="pointsInfo">–ù–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ç–æ—á–µ–∫</span>
          </div>
        </section>

        <!-- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç -->
        <section class="section">
          <h2>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</h2>
          <label>–¢–∏–ø –∫—É–∑–æ–≤–∞</label>
          <div class="checkgroup" id="bodyTypes">
            <label class="check"><input type="checkbox" value="–¢–µ–Ω—Ç">–¢–µ–Ω—Ç</label>
            <label class="check"><input type="checkbox" value="–†–µ—Ñ—Ä–∏–∂–µ—Ä–∞—Ç–æ—Ä">–†–µ—Ñ—Ä–∏–∂–µ—Ä–∞—Ç–æ—Ä</label>
            <label class="check"><input type="checkbox" value="–ò–∑–æ—Ç–µ—Ä–º">–ò–∑–æ—Ç–µ—Ä–º</label>
            <label class="check"><input type="checkbox" value="–§—É—Ä–≥–æ–Ω">–§—É—Ä–≥–æ–Ω</label>
            <label class="check"><input type="checkbox" value="–û—Ç–∫—Ä—ã—Ç—ã–π">–û—Ç–∫—Ä—ã—Ç—ã–π</label>
            <label class="check"><input type="checkbox" value="–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä">–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä</label>
          </div>

          <div class="grid cols-3" style="margin-top:12px;">
            <div>
              <label for="tempMode">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π —Ä–µ–∂–∏–º</label>
              <select id="tempMode" name="tempMode">
                <option>–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</option>
                <option>–•–æ–ª–æ–¥</option>
                <option>–ó–∞–º–æ—Ä–æ–∑–∫–∞</option>
                <option>–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ +</option>
              </select>
            </div>
            <div>
              <label>–¢–∏–ø –∑–∞–≥—Ä—É–∑–∫–∏</label>
              <div class="checkgroup" id="loadingType">
                <label class="check"><input type="checkbox" value="–°–≤–µ—Ä—Ö—É">–°–≤–µ—Ä—Ö—É</label>
                <label class="check"><input type="checkbox" value="–°–±–æ–∫—É">–°–±–æ–∫—É</label>
                <label class="check"><input type="checkbox" value="–°–∑–∞–¥–∏">–°–∑–∞–¥–∏</label>
              </div>
            </div>
            <div>
              <label>–¢–∏–ø –≤—ã–≥—Ä—É–∑–∫–∏</label>
              <div class="checkgroup" id="unloadingType">
                <label class="check"><input type="checkbox" value="–°–≤–µ—Ä—Ö—É">–°–≤–µ—Ä—Ö—É</label>
                <label class="check"><input type="checkbox" value="–°–±–æ–∫—É">–°–±–æ–∫—É</label>
                <label class="check"><input type="checkbox" value="–°–∑–∞–¥–∏">–°–∑–∞–¥–∏</label>
              </div>
            </div>
          </div>

          <div class="grid cols-2" style="margin-top:12px;">
            <div>
              <label>–°–ø–æ—Å–æ–± –∑–∞–≥—Ä—É–∑–∫–∏</label>
              <div class="checkgroup" id="loadingMethod">
                <label class="check"><input type="checkbox" value="–†—É—á–Ω–∞—è">–†—É—á–Ω–∞—è</label>
                <label class="check"><input type="checkbox" value="–ü–æ–≥—Ä—É–∑—á–∏–∫">–ü–æ–≥—Ä—É–∑—á–∏–∫</label>
                <label class="check"><input type="checkbox" value="–ì–∏–¥—Ä–æ–±–æ—Ä—Ç">–ì–∏–¥—Ä–æ–±–æ—Ä—Ç</label>
              </div>
            </div>
            <div>
              <label>–°–ø–æ—Å–æ–± –≤—ã–≥—Ä—É–∑–∫–∏</label>
              <div class="checkgroup" id="unloadingMethod">
                <label class="check"><input type="checkbox" value="–†—É—á–Ω–∞—è">–†—É—á–Ω–∞—è</label>
                <label class="check"><input type="checkbox" value="–ü–æ–≥—Ä—É–∑—á–∏–∫">–ü–æ–≥—Ä—É–∑—á–∏–∫</label>
                <label class="check"><input type="checkbox" value="–ì–∏–¥—Ä–æ–±–æ—Ä—Ç">–ì–∏–¥—Ä–æ–±–æ—Ä—Ç</label>
              </div>
            </div>
          </div>
        </section>

        <!-- –£—Å–ª–æ–≤–∏—è -->
        <section class="section">
          <h2>–£—Å–ª–æ–≤–∏—è</h2>
          <div class="checkgroup">
            <label class="check"><input type="checkbox" id="insurance">–°—Ç—Ä–∞—Ö–æ–≤–∫–∞</label>
            <label class="check"><input type="checkbox" id="cmr">CMR</label>
            <label class="check"><input type="checkbox" id="tir">TIR</label>
            <label class="check"><input type="checkbox" id="adr">ADR</label>
          </div>

          <div class="grid cols-3" style="margin-top:12px;">
            <div>
              <label for="payment">–û–ø–ª–∞—Ç–∞</label>
              <select id="payment" name="payment">
                <option>–Ω–∞–ª–∏—á–Ω—ã–µ</option>
                <option>–Ω–∞ –∫–∞—Ä—Ç—É</option>
                <option>–±–µ–∑–Ω–∞–ª</option>
              </select>
            </div>
            <div>
              <label for="price">–¶–µ–Ω–∞</label>
              <input type="number" id="price" name="price" min="0" step="1" placeholder="100000" />
            </div>
            <div>
              <label for="currency">–í–∞–ª—é—Ç–∞</label>
              <select id="currency" name="currency">
                <option>KZT</option>
                <option>RUB</option>
                <option>USD</option>
                <option>EUR</option>
              </select>
            </div>
          </div>

          <div class="grid cols-3">
            <div style="display:flex;align-items:flex-end;">
              <label class="check"><input type="checkbox" id="cod">–ù–∞–ª–æ–∂–µ–Ω–Ω—ã–π –ø–ª–∞—Ç–µ–∂</label>
            </div>
            <div>
              <label for="codAmount">–¶–µ–Ω–∞ –Ω–∞–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞</label>
              <input type="number" id="codAmount" name="codAmount" min="0" step="1" placeholder="0" disabled />
            </div>
            <div>
              <label for="codCurrency">–í–∞–ª—é—Ç–∞ –Ω–∞–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞</label>
              <select id="codCurrency" name="codCurrency" disabled>
                <option>KZT</option>
                <option>RUB</option>
                <option>USD</option>
                <option>EUR</option>
              </select>
            </div>
          </div>
        </section>

        <!-- –û–±—ä–µ–º —Ç–æ—Ä–≥–∞ -->
        <section class="section">
          <h2>–û–±—ä–µ–º —Ç–æ—Ä–≥–∞</h2>
          <div class="grid cols-2">
            <div>
              <label for="bargain">–°–∫–∏–¥–∫–∞/—Ç–æ—Ä–≥</label>
              <select id="bargain" name="bargain">
                <option>–ù–µ—Ç</option>
                <option>–î–æ 5%</option>
                <option>–î–æ 10%</option>
                <option>–î–æ 15%</option>
                <option>–î–æ 20%</option>
              </select>
            </div>
            <div>
              <span class="badge" id="bargainHint">–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–º —Ç–æ—Ä–≥–∞</span>
            </div>
          </div>
        </section>

        <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
        <section class="section">
          <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
          <div class="grid cols-3">
            <div>
              <label for="contactName">–ò–º—è</label>
              <input type="text" id="contactName" name="contactName" required />
              <div class="error" data-error="contactName"></div>
            </div>
            <div>
              <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
              <input type="text" id="phone" name="phone" placeholder="+7 (___) ___-__-__" required />
              <div class="error" data-error="phone"></div>
            </div>
            <div>
              <label for="email">Email</label>
              <input type="text" id="email" name="email" placeholder="name@example.com" />
              <div class="error" data-error="email"></div>
            </div>
          </div>

          <label style="margin-top:8px;">–î–æ—Å—Ç—É–ø–µ–Ω –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞—Ö</label>
          <div class="checkgroup">
            <label class="check"><input type="checkbox" value="WhatsApp" checked>WhatsApp</label>
            <label class="check"><input type="checkbox" value="Telegram">Telegram</label>
            <label class="check"><input type="checkbox" value="Viber">Viber</label>
            <label class="check"><input type="checkbox" value="Signal">Signal</label>
          </div>
        </section>

        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ -->
        <section class="section">
          <h2>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</h2>
          <div class="checkgroup">
            <label class="check"><input type="checkbox" id="loaders">–ì—Ä—É–∑—á–∏–∫–∏</label>
            <label class="check"><input type="checkbox" id="handling">–ü–æ–≥—Ä—É–∑–∫–∞/—Ä–∞–∑–≥—Ä—É–∑–∫–∞</label>
            <label class="check"><input type="checkbox" id="seal">–ü–ª–æ–º–±–∞</label>
            <label class="check"><input type="checkbox" id="tent">–¢–µ–Ω—Ç/—Ä–µ–º–Ω–∏/—É–≥–æ–ª–∫–∏</label>
          </div>

          <div class="grid cols-1" style="margin-top:12px;">
            <div>
              <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
              <textarea id="description" name="description" placeholder="–û–ø–∏—à–∏—Ç–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≥—Ä—É–∑–∞, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–µ—Ä–µ–≤–æ–∑–∫–µ –∏ —Ç.–¥."></textarea>
            </div>
          </div>

          <div class="grid cols-2" style="margin-top:12px;">
            <div>
              <label for="photo">–§–æ—Ç–æ</label>
              <input type="file" id="photo" name="photo" accept="image/*" multiple />
              <div class="files" id="photoList"></div>
            </div>
            <div>
              <label for="docs">–î–æ–∫—É–º–µ–Ω—Ç—ã</label>
              <input type="file" id="docs" name="docs" accept=".pdf,.doc,.docx,.xls,.xlsx,.jpg,.png" multiple />
              <div class="files" id="docsList"></div>
            </div>
          </div>
        </section>

        <div class="footer-actions">
          <button type="button" class="btn" id="addCargoBtn">–î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–∑</button>
          <span class="muted" id="cargoStats">–ì—Ä—É–∑: 0 / 0 –∫–≥ / 0 –º¬≥</span>
        </div>
      </div>
    </form>

    <!-- Right: Summary -->
    <aside class="card summary">
      <div class="body">
        <h2>–ì—Ä—É–∑</h2>
        <div class="line"><span class="key">–¢–∏–ø</span><span class="val" id="sumType">-</span></div>
        <div class="line"><span class="key">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span><span class="val" id="sumCategory">-</span></div>
        <div class="line"><span class="key">–ù–∞–∑–≤–∞–Ω–∏–µ</span><span class="val" id="sumTitle">-</span></div>
        <div class="line"><span class="key">–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å</span><span class="val" id="sumDate">-</span></div>
        <div class="line"><span class="key">–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å</span><span class="val" id="sumRegularity">-</span></div>
        <div class="line"><span class="key">–ú–µ—Å—Ç–∞</span><span class="val" id="sumPlaces">-</span></div>
        <div class="line"><span class="key">–í–µ—Å / –û–±—ä–µ–º</span><span class="val" id="sumWeightVolume">-</span></div>
        <div class="line"><span class="key">–£–ø–∞–∫–æ–≤–∫–∞</span><span class="val" id="sumPacked">–ù–µ—Ç</span></div>

        <h3>–ú–∞—Ä—à—Ä—É—Ç</h3>
        <div class="line"><span class="key">–û—Ç–∫—É–¥–∞</span><span class="val" id="sumFrom">-</span></div>
        <div class="line"><span class="key">–ö—É–¥–∞</span><span class="val" id="sumTo">-</span></div>
        <div class="line"><span class="key">–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ</span><span class="val" id="sumPoints">‚Äî</span></div>

        <h3>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</h3>
        <div class="line"><span class="key">–ö—É–∑–æ–≤</span><span class="val" id="sumBodyTypes">‚Äî</span></div>
        <div class="line"><span class="key">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</span><span class="val" id="sumTemp">‚Äî</span></div>
        <div class="line"><span class="key">–ó–∞–≥—Ä—É–∑–∫–∞</span><span class="val" id="sumLoading">‚Äî</span></div>
        <div class="line"><span class="key">–í—ã–≥—Ä—É–∑–∫–∞</span><span class="val" id="sumUnloading">‚Äî</span></div>
        <div class="line"><span class="key">–°–ø–æ—Å–æ–± –∑–∞–≥—Ä—É–∑–∫–∏</span><span class="val" id="sumLoadingMethod">‚Äî</span></div>
        <div class="line"><span class="key">–°–ø–æ—Å–æ–± –≤—ã–≥—Ä—É–∑–∫–∏</span><span class="val" id="sumUnloadingMethod">‚Äî</span></div>

        <h3>–£—Å–ª–æ–≤–∏—è</h3>
        <div class="line"><span class="key">–î–æ–∫—É–º–µ–Ω—Ç—ã</span><span class="val" id="sumDocsFlags">‚Äî</span></div>
        <div class="line"><span class="key">–û–ø–ª–∞—Ç–∞</span><span class="val" id="sumPayment">‚Äî</span></div>
        <div class="line"><span class="key">–¶–µ–Ω–∞</span><span class="val" id="sumPrice">‚Äî</span></div>
        <div class="line"><span class="key">–ù–∞–ª–æ–∂–µ–Ω–Ω—ã–π –ø–ª–∞—Ç–µ–∂</span><span class="val" id="sumCOD">‚Äî</span></div>
        <div class="line"><span class="key">–¢–æ—Ä–≥</span><span class="val" id="sumBargain">‚Äî</span></div>

        <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
        <div class="line"><span class="key">–ò–º—è</span><span class="val" id="sumContactName">‚Äî</span></div>
        <div class="line"><span class="key">–¢–µ–ª–µ—Ñ–æ–Ω</span><span class="val" id="sumPhone">‚Äî</span></div>
        <div class="line"><span class="key">Email</span><span class="val" id="sumEmail">‚Äî</span></div>

        <h3>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</h3>
        <div class="line"><span class="key">–û–ø—Ü–∏–∏</span><span class="val" id="sumExtras">‚Äî</span></div>
        <div class="line"><span class="key">–û–ø–∏—Å–∞–Ω–∏–µ</span><span class="val" id="sumDesc">‚Äî</span></div>

        <div class="footer-actions">
          <button class="btn primary" id="publishBtn">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≥—Ä—É–∑</button>
          <span class="muted" id="publishInfo">–ß–µ—Ä–Ω–æ–≤–∏–∫ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω</span>
        </div>
      </div>
    </aside>
  </main>

  <script>
    // Utility
    const $ = (sel, root = document) => root.querySelector(sel);
    const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));
    const valueOrDash = (v) => v && v.trim() ? v : "‚Äî";
    const fmtNum = (n) => {
      const num = Number(n);
      if (!isFinite(num)) return "0";
      return new Intl.NumberFormat("ru-RU").format(num);
    };

    // State
    const state = {
      points: [],
      cargoCount: 0,
      totalWeight: 0,
      totalVolume: 0,
      published: false
    };

    // Inputs
    const form = $("#cargoForm");
    const inputs = {
      cargoType: $("#cargoType"),
      category: $("#category"),
      title: $("#title"),
      readyDate: $("#readyDate"),
      regularity: $("#regularity"),
      places: $("#places"),
      weight: $("#weight"),
      volume: $("#volume"),
      packed: $("#packed"),
      from: $("#from"),
      to: $("#to"),
      tempMode: $("#tempMode"),
      payment: $("#payment"),
      price: $("#price"),
      currency: $("#currency"),
      cod: $("#cod"),
      codAmount: $("#codAmount"),
      codCurrency: $("#codCurrency"),
      bargain: $("#bargain"),
      contactName: $("#contactName"),
      phone: $("#phone"),
      email: $("#email"),
      description: $("#description"),
      photo: $("#photo"),
      docs: $("#docs"),
      loaders: $("#loaders"),
      handling: $("#handling"),
      seal: $("#seal"),
      tent: $("#tent")
    };

    // Summary elements
    const sum = {
      type: $("#sumType"),
      category: $("#sumCategory"),
      title: $("#sumTitle"),
      date: $("#sumDate"),
      regularity: $("#sumRegularity"),
      places: $("#sumPlaces"),
      weightVolume: $("#sumWeightVolume"),
      packed: $("#sumPacked"),
      from: $("#sumFrom"),
      to: $("#sumTo"),
      points: $("#sumPoints"),
      bodyTypes: $("#sumBodyTypes"),
      temp: $("#sumTemp"),
      loading: $("#sumLoading"),
      unloading: $("#sumUnloading"),
      loadingMethod: $("#sumLoadingMethod"),
      unloadingMethod: $("#sumUnloadingMethod"),
      docsFlags: $("#sumDocsFlags"),
      payment: $("#sumPayment"),
      price: $("#sumPrice"),
      cod: $("#sumCOD"),
      bargain: $("#sumBargain"),
      contactName: $("#sumContactName"),
      phone: $("#sumPhone"),
      email: $("#sumEmail"),
      extras: $("#sumExtras"),
      desc: $("#sumDesc")
    };

    const pointsInfo = $("#pointsInfo");
    const addPointBtn = $("#addPoint");
    const addCargoBtn = $("#addCargoBtn");
    const cargoStats = $("#cargoStats");
    const publishBtn = $("#publishBtn");
    const publishInfo = $("#publishInfo");
    const bargainHint = $("#bargainHint");
    const photoList = $("#photoList");
    const docsList = $("#docsList");

    // Checkgroups
    const bodyTypes = $$("#bodyTypes input[type='checkbox']");
    const loadingType = $$("#loadingType input[type='checkbox']");
    const unloadingType = $$("#unloadingType input[type='checkbox']");
    const loadingMethod = $$("#loadingMethod input[type='checkbox']");
    const unloadingMethod = $$("#unloadingMethod input[type='checkbox']");

    // Validation helpers
    const showError = (name, msg) => {
      const el = document.querySelector(`[data-error="${name}"]`);
      if (el) el.textContent = msg || "";
    };
    const requireFilled = (name, value, label) => {
      if (!value || (typeof value === "string" && !value.trim())) {
        showError(name, `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ: ${label}`);
        return false;
      }
      showError(name, "");
      return true;
    };
    const isValidEmail = (v) => !v || /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);
    const isValidPhone = (v) => /^\+?[0-9()\-\s]{8,}$/.test(v);

    // Bind basic interactions
    inputs.cod.addEventListener("change", () => {
      const on = inputs.cod.checked;
      inputs.codAmount.disabled = !on;
      inputs.codCurrency.disabled = !on;
      updateSummary();
    });

    inputs.currency.addEventListener("change", () => {
      // mirror currency to COD by default
      if (!inputs.cod.checked) {
        inputs.codCurrency.value = inputs.currency.value;
      }
      updateSummary();
    });

    addPointBtn.addEventListener("click", () => {
      const p = prompt("–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ç–æ—á–∫—É (–≥–æ—Ä–æ–¥, –∞–¥—Ä–µ—Å):");
      if (p && p.trim()) {
        state.points.push(p.trim());
        pointsInfo.textContent = `–î–æ–±–∞–≤–ª–µ–Ω–æ: ${state.points.length}`;
        updateSummary();
      }
    });

    // Add cargo aggregates
    addCargoBtn.addEventListener("click", () => {
      const w = Number(inputs.weight.value || 0);
      const v = Number(inputs.volume.value || 0);
      const places = Number(inputs.places.value || 0);
      if (w <= 0 || places <= 0) {
        alert("–£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–µ—Å –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç.");
        return;
      }
      state.cargoCount += 1;
      state.totalWeight += w;
      state.totalVolume += v;
      cargoStats.textContent = `–ì—Ä—É–∑: ${state.cargoCount} / ${fmtNum(state.totalWeight)} –∫–≥ / ${fmtNum(state.totalVolume)} –º¬≥`;
    });

    // File previews
    const renderFiles = (input, target) => {
      target.innerHTML = "";
      const files = Array.from(input.files || []);
      if (!files.length) return;
      files.slice(0, 6).forEach(f => {
        const div = document.createElement("div");
        div.className = "file";
        div.textContent = `${f.name} (${fmtNum(f.size)} –±–∞–π—Ç)`;
        target.appendChild(div);
      });
    };
    inputs.photo.addEventListener("change", () => renderFiles(inputs.photo, photoList));
    inputs.docs.addEventListener("change", () => renderFiles(inputs.docs, docsList));

    // Live summary
    const getCheckedValues = (nodes) => nodes.filter(n => n.checked).map(n => n.value);
    const listOrDash = (arr) => arr.length ? arr.map(v => `<span class="pill">${v}</span>`).join("") : "‚Äî";

    const updateSummary = () => {
      sum.type.textContent = valueOrDash(inputs.cargoType.value);
      sum.category.textContent = valueOrDash(inputs.category.value);
      sum.title.textContent = valueOrDash(inputs.title.value);
      sum.date.textContent = valueOrDash(inputs.readyDate.value);
      sum.regularity.textContent = valueOrDash(inputs.regularity.value);
      sum.places.textContent = valueOrDash(inputs.places.value);
      sum.weightVolume.textContent = `${fmtNum(inputs.weight.value || 0)} –∫–≥ / ${fmtNum(inputs.volume.value || 0)} –º¬≥`;
      sum.packed.textContent = inputs.packed.checked ? "–î–∞" : "–ù–µ—Ç";

      sum.from.textContent = valueOrDash(inputs.from.value);
      sum.to.textContent = valueOrDash(inputs.to.value);
      sum.points.innerHTML = state.points.length ? state.points.map(p => `<span class="pill">${p}</span>`).join("") : "‚Äî";

      sum.bodyTypes.innerHTML = listOrDash(getCheckedValues(bodyTypes));
      sum.temp.textContent = valueOrDash(inputs.tempMode.value);
      sum.loading.innerHTML = listOrDash(getCheckedValues(loadingType));
      sum.unloading.innerHTML = listOrDash(getCheckedValues(unloadingType));
      sum.loadingMethod.innerHTML = listOrDash(getCheckedValues(loadingMethod));
      sum.unloadingMethod.innerHTML = listOrDash(getCheckedValues(unloadingMethod));

      const flags = [
        inputs.insurance.checked ? "–°—Ç—Ä–∞—Ö–æ–≤–∫–∞" : null,
        inputs.cmr.checked ? "CMR" : null,
        inputs.tir.checked ? "TIR" : null,
        inputs.adr.checked ? "ADR" : null
      ].filter(Boolean);
      sum.docsFlags.innerHTML = listOrDash(flags);

      const price = inputs.price.value ? `${fmtNum(inputs.price.value)} ${inputs.currency.value}` : "‚Äî";
      sum.price.textContent = price;
      sum.payment.textContent = inputs.payment.value || "‚Äî";
      sum.bargain.textContent = inputs.bargain.value || "‚Äî";

      const codText = inputs.cod.checked
        ? `${fmtNum(inputs.codAmount.value || 0)} ${inputs.codCurrency.value}`
        : "–ù–µ—Ç";
      sum.cod.textContent = codText;

      sum.contactName.textContent = valueOrDash(inputs.contactName.value);
      sum.phone.textContent = valueOrDash(inputs.phone.value);
      sum.email.textContent = valueOrDash(inputs.email.value);

      const extras = [
        inputs.loaders.checked ? "–ì—Ä—É–∑—á–∏–∫–∏" : null,
        inputs.handling.checked ? "–ü–æ–≥—Ä—É–∑–∫–∞/—Ä–∞–∑–≥—Ä—É–∑–∫–∞" : null,
        inputs.seal.checked ? "–ü–ª–æ–º–±–∞" : null,
        inputs.tent.checked ? "–¢–µ–Ω—Ç/—Ä–µ–º–Ω–∏/—É–≥–æ–ª–∫–∏" : null
      ].filter(Boolean);
      sum.extras.innerHTML = listOrDash(extras);

      sum.desc.textContent = valueOrDash(inputs.description.value);

      bargainHint.textContent = inputs.bargain.value === "–ù–µ—Ç"
        ? "–¢–æ—Ä–≥ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω"
        : `–î–æ–ø—É—Å—Ç–∏–º—ã–π —Ç–æ—Ä–≥: ${inputs.bargain.value}`;
    };

    // Bind live update
    [
      ...Object.values(inputs),
      ...bodyTypes, ...loadingType, ...unloadingType, ...loadingMethod, ...unloadingMethod
    ].forEach(el => {
      const ev = (el.type === "checkbox" || el.type === "file") ? "change" : "input";
      el.addEventListener(ev, updateSummary);
    });

    // Initial summary
    updateSummary();

    // Publish simulation
    publishBtn.addEventListener("click", (e) => {
      e.preventDefault();

      // minimal validation
      const ok =
        requireFilled("cargoType", inputs.cargoType.value, "–¢–∏–ø –≥—Ä—É–∑–∞") &
        requireFilled("category", inputs.category.value, "–ö–∞—Ç–µ–≥–æ—Ä–∏—è") &
        requireFilled("title", inputs.title.value, "–ù–∞–∑–≤–∞–Ω–∏–µ") &
        requireFilled("readyDate", inputs.readyDate.value, "–î–∞—Ç–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏") &
        requireFilled("places", inputs.places.value, "–ö–æ–ª-–≤–æ –º–µ—Å—Ç") &
        requireFilled("weight", inputs.weight.value, "–í–µ—Å") &
        requireFilled("from", inputs.from.value, "–û—Ç–∫—É–¥–∞") &
        requireFilled("to", inputs.to.value, "–ö—É–¥–∞") &
        requireFilled("contactName", inputs.contactName.value, "–ò–º—è") &
        requireFilled("phone", inputs.phone.value, "–¢–µ–ª–µ—Ñ–æ–Ω");

      if (!isValidPhone(inputs.phone.value)) {
        showError("phone", "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞");
      } else {
        showError("phone", "");
      }

      if (!isValidEmail(inputs.email.value)) {
        showError("email", "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email");
      } else {
        showError("email", "");
      }

      if (!ok || !isValidPhone(inputs.phone.value) || !isValidEmail(inputs.email.value)) {
        alert("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã.");
        return;
      }

      state.published = true;
      publishInfo.textContent = "–ì—Ä—É–∑ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω";
      publishInfo.style.color = "var(--accent)";
      publishBtn.disabled = true;
      publishBtn.textContent = "–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ";
    });
  </script>

<footer class="site-footer">
  <div class="container">
    
    <div class="footer-left">
      ¬© 2025 QAZAQSTAN LOGISTICA ‚Äî –≤—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã
    </div>

    <div class="footer-nav">
      <a href="about(test)/about.html">–û –Ω–∞—Å</a>
      <a href="newspage/index.html">–ù–æ–≤–æ—Å—Ç–∏</a>
      <a href="mape/map.html">–ö–∞—Ä—Ç–∞</a>
      <a href="stats(test)/statss.html">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
    </div>

    <div class="footer-social">
      <a href="#">üìò</a>
      <a href="#">üì±</a>
      <a href="#">‚úâÔ∏è</a>
    </div>

  </div>
</footer>


</body>
</html>



  

